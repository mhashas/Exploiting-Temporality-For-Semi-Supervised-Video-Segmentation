#!/bin/bash
#SBATCH --gres=gpu:v100-16:1
#SBATCH -c 8
#SBATCH -o logs/%j_fbf.out

MODEL=$1
MODE=$2
RESIZE=$3
BATCH_SIZE=$4
OPTIM=$5
LR=$6
BLANK=$7
TIME_DILATION=$8
NUM_DOWNS=$9
NGF=${10}
REMOVE_SKIP=${11:-0}
SEQUENCE_MODEL=${12:-none}
SEQUENCE_STACKED_MODELS=${13:-1}
RECONSTRUCT=${14:-0}
RECONSTRUCT_COEFF=${15:-1}

python3 main.py --debug 0 --model $MODEL --mode $MODE --sequence_model $SEQUENCE_MODEL --resize $RESIZE --batch_size $BATCH_SIZE --optim $OPTIM --lr $LR --blank $BLANK --norm_layer batch \
                --num_downs $NUM_DOWNS --ngf $NGF --time_dilation $TIME_DILATION --remove_skip $REMOVE_SKIP --reconstruct $RECONSTRUCT --reconstruct_loss_coeff $RECONSTRUCT_COEFF \
                --sequence_stacked_models $SEQUENCE_STACKED_MODELS